# 体育教学管理平台 — 后期功能规划

> 记录日期：2026-02-28
> 当前版本：v1.5.1

---

## 一、完整平台架构蓝图

```
体育教学管理平台 v2.0+
│
├── 【基础层】多租户管理（已完成 v1.x）
│   └── 学校 / 年级 / 班级 / 教师 / 学生 / 考勤
│
├── 【教学管理层】v2.0
│   ├── 体质健康测试
│   ├── 期末考试成绩管理
│   └── 成绩统计与分析
│
├── 【资源层】v2.0
│   ├── 备课资源库
│   ├── 微课展示
│   └── 教学素材管理
│
├── 【互动层】v3.0（依赖学生账号）
│   ├── 选修课抢课系统
│   └── 课外作业 / 假期作业系统
│
└── 【活动层】v3.0+
    ├── 运动会管理
    └── 校内体育比赛管理
```

---

## 二、各模块详细规划

### 1. 体质健康测试

**测试项目**（参照教育部标准）：
- 身高、体重、BMI
- 肺活量
- 50米跑
- 坐位体前屈
- 立定跳远
- 引体向上（男）/ 仰卧起坐（女）
- 800米（女）/ 1000米（男）

**功能点**：
- 教师批量录入 / Excel 导入
- 按教育部标准自动评级（优秀 / 良好 / 及格 / 不及格）
- 历年数据纵向对比（学生成长曲线）
- 班级 / 年级横向统计分析
- 导出体质健康报告

---

### 2. 期末考试 & 成绩管理

**功能点**：
- 自定义考试项目和评分权重
- 批量录入 / Excel 导入成绩
- 自动计算总分、排名
- 成绩分布统计（班级、年级维度）
- 不及格预警
- 成绩导出（Excel / PDF）

---

### 3. 成绩统计与分析

**功能点**：
- 班级平均分趋势图（ECharts）
- 各项目成绩分布柱状图
- 优良率、不及格率统计
- 教师教学效果对比
- 学期报告生成

**技术依赖**：引入 ECharts 图表库（前端 CDN 引入即可）

---

### 4. 备课资源库

**资源类型**：
- 教案（Word、PDF）
- 课件（PPT、PDF）
- 训练计划模板

**功能点**：
- 按年级 / 运动项目 / 课型分类
- 教师上传、下载、共享
- 私有 / 公开权限控制
- 版本管理（同一教案的修订历史）

---

### 5. 微课展示

**功能点**：
- 支持视频外链嵌入（B站、腾讯视频）
- 支持上传到对象存储（腾讯云 COS）
- 按运动项目 / 技术动作分类
- 教师发布，学生可查看

---

### 6. 选修课抢课系统

**业务流程**：
```
管理员配置课程名额与抢课时间
        ↓
抢课窗口开放（如：周五 12:00）
        ↓
学生登录 → 查看课程剩余名额 → 提交选课
        ↓
系统实时扣减名额（并发控制）
        ↓
选课成功通知 → 教师名单自动更新
```

**管理员端**：
- 设置课程名额上限
- 设置抢课开始 / 结束时间
- 查看实时选课人数
- 手动调整（强制加入 / 移除）
- 导出选课名单

**学生端**：
- 查看所有开放课程（剩余名额实时显示）
- 一键选课 / 退课（截止时间内）
- 查看已选课程

**并发方案**（根据学校规模选择）：
| 规模 | 方案 |
|------|------|
| 单校百人内 | 数据库悲观锁（`SELECT FOR UPDATE`），无需新组件 |
| 多校千人以上 | Redis 原子操作（`DECR`） |

**待决策**：学校单次抢课的并发学生数量？

---

### 7. 课外作业 / 假期作业系统

**作业类型**：
| 类型 | 示例 | 提交形式 |
|------|------|---------|
| 打卡类 | 每天跑步3公里 | 运动App截图 / 照片 |
| 视频类 | 录制篮球运球动作 | 视频上传或外链 |
| 计划类 | 制定假期锻炼计划 | 文字 + 图片 |
| 测试类 | 完成俯卧撑100个 | 照片 / 视频 |
| 连续打卡类 | 21天跑步挑战 | 每日提交，统计连续天数 |

**教师端**：
- 创建作业（标题 / 要求 / 截止时间 / 班级范围）
- 查看提交情况（已交 / 未交名单）
- 批改评分、写评语

**学生端**：
- 查看待完成作业
- 提交内容（文字 / 图片 / 视频链接）
- 查看教师反馈

---

### 8. 运动会管理

**功能点**：
- 赛事 / 项目配置
- 学生报名管理
- 成绩录入与排名
- 积分榜 / 奖牌榜

---

### 9. 校内体育比赛

**功能点**：
- 赛事创建（篮球联赛、足球杯等）
- 赛程编排（循环赛 / 淘汰赛）
- 比分录入
- 晋级逻辑自动处理
- 赛事公告展示

---

## 三、关键架构决策（待确认）

### 1. 文件存储方案
| 文件类型 | 推荐方案 | 说明 |
|---------|---------|------|
| 图片、文档 | 腾讯云 COS | 已在腾讯云，费用极低 |
| 微课视频 | 外链嵌入（B站）为主，COS 为辅 | 降低存储压力 |
| 学生作业视频 | 腾讯云 COS 或仅支持外链 | 待决策 |

### 2. 学生账号体系
| 方案 | 优点 | 缺点 |
|------|------|------|
| 学号登录（推荐先做） | 简单，导入时批量生成 | 需记账号密码 |
| 手机号 + 短信验证码 | 方便，无需记密码 | 短信有费用 |
| 微信扫码登录 | 学生最习惯 | 需公众号，开发复杂 |

### 3. 移动端适配
- 学生端（抢课、作业、查成绩）主要在手机使用
- 方向一：当前 Thymeleaf 页面做响应式优化（成本低）
- 方向二：后期独立做微信小程序（体验好，成本高）

---

## 四、建议开发顺序

### 近期 v2.0（不依赖学生账号，教师/管理员使用）
1. **体质健康测试** — 数据录入、评级、统计
2. **期末成绩管理** — 自定义项目、批量录入、排名
3. **成绩统计分析** — ECharts 图表
4. **备课资源库** — 文件上传（需先决定存储方案）

### 中期 v3.0（引入学生账号）
5. **学生账号体系** — 学号登录，批量初始化
6. **选修课抢课系统**
7. **课外作业系统**
8. **微课学生端查看**

### 远期 v4.0
9. **运动会管理**
10. **校内比赛管理**
11. **微信小程序**（如有需要）

---

## 五、待思考 & 待决策

- [ ] 学校单次抢课并发学生数量？（决定是否需要 Redis）
- [ ] 是否接入腾讯云 COS 做文件存储？
- [ ] 学生账号：学号登录 / 手机号 / 微信？
- [ ] 学生作业视频：允许上传还是只支持外链？
- [ ] 移动端：响应式优化 还是 后期做小程序？
- [ ] 退课机制：是否允许退课？退课截止时间规则？
- [ ] v2.0 优先从哪个模块开始？
